@import "tailwindcss";

/* === ПЕРЕМЕННЫЕ === */
:root {
    --foreground: #171717;
    --page-bg: #151515; /* дефолтный фон для всех страниц */
}

@theme inline {
    --color-foreground: var(--foreground);
    --font-sans: var(--font-geist-sans);
    --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
    :root {
        --foreground: #ededed;
    }
}

/* ===== ОБЩЕЕ ===== */
html,
body {
    min-height: 100%;
    margin: 0;
    padding: 0;
    background: var(--page-bg); /* <-- теперь фон через переменную */
    color: var(--foreground);
    font-family: Arial, Helvetica, sans-serif;
}

/* когда мы на странице never-ever — делаем фон прозрачным */
.neverever-active {
    --page-bg: #151515;
}

/* ===== SAFE-AREA УТИЛИТЫ ===== */
.safe-top {
    padding-top: env(safe-area-inset-top, 0);
}
.safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
}
.safe-left {
    padding-left: env(safe-area-inset-left, 0);
}
.safe-right {
    padding-right: env(safe-area-inset-right, 0);
}

/* Отступ для блока категорий под фиксированную кнопку */
.with-playbutton-space {
    padding-bottom: calc(env(safe-area-inset-bottom) + 120px);
}

/* ===== DESKTOP: заголовок за Rive ===== */
.desktop-header {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}
.desktop-header .overlay-title {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    z-index: 0;
}

/* ===== Блок категорий: desktop сетка ===== */
.categories {
    display: grid;
    justify-content: center;
    gap: 28px 16px;
    grid-template-columns: repeat(auto-fill, minmax(156px, 1fr));
}

/* ===== MOBILE (≤1064px) ===== */
@media (max-width: 1064px) {
    .neverever-page {
        padding-top: 24px !important;
    }

    .desktop-header {
        flex-direction: column;
    }
    .desktop-header .overlay-title {
        position: static !important;
        display: block !important;
        margin-top: 0 !important;
        font-size: 52px !important;
        line-height: 62px !important;
        text-align: center;
    }

    .chips-container {
        gap: 8px !important;
    }

    .neverever-description {
        margin-top: 16px !important;
        font-size: 16px !important;
        line-height: 20px !important;
        padding-left: 16px;
        padding-right: 16px;
    }

    .categories-title {
        padding-left: 16px;
    }

    .categories-section {
        margin-top: 24px !important;
        padding-left: 0;
        padding-right: 0;
    }

    .categories {
        justify-content: start;
        grid-template-columns: unset;
        grid-auto-flow: column;
        grid-template-rows: repeat(2, auto);
        gap: 8px;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
        scroll-padding-left: 16px;
        scroll-padding-right: 16px;
        padding: 0 16px;
        position: relative;
    }

    .categories > * {
        scroll-snap-align: start;
        min-width: 156px;
        max-width: 156px;
    }

    .categories::-webkit-scrollbar {
        display: none;
    }
    .categories {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* ===== DESKTOP (≥1065px) ===== */
@media (min-width: 1065px) {
    .neverever-page {
        padding-top: 60px !important;
    }

    .neverever-description {
        margin-top: 60px !important;
        font-size: 24px !important;
        line-height: 36px !important;
    }

    .categories-section {
        margin-top: 80px !important;
    }
}

/* ===== FIX для iOS мерцаний кнопки ===== */
.playbutton,
.playbutton-wrapper {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    will-change: transform;
}
